# Player detect vorm Villager mit Command Blocks
# Code example for my Youtube tutorial videos
# Video: preparing

# Init
kill @e[type=villager, tag=tutorial_pdetect]
summon villager 1249 4 1650 {NoAI:1b,Rotation:[0,0], Tags:["tutorial_pdetect"]}

# Run
execute as @e[tag=tutorial_pdetect] at @s positioned ^ ^ ^4 if entity @e[type=player,distance=..4]


# Rotation
scoreboard objectives add Tutorial_Player_detect_calc dummy
execute unless score rotate Tutorial_Player_detect_calc matches 0.. run scoreboard players set rotate Tutorial_Player_detect_calc 0
scoreboard players add rotate Tutorial_Player_detect_calc 1
execute if score rotate Tutorial_Player_detect_calc matches 360.. run scoreboard players set rotate Tutorial_Player_detect_calc 0
execute store result entity @e[tag=tutorial_pdetect,limit=1] Rotation[0] int 1.0 run scoreboard players get rotate Tutorial_Player_detect_calc



